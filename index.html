<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPOP CHA CHA 4.0 - The Return of the Voyagers</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://css.gg/css?=|chevron-down|play-button-o" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        /* Color Variables */
        :root {
            --brand-red-dark: #3b0811;
            --brand-red: #5a0d1a;
            --brand-gold: #c5a67c;
            --brand-gold-dark: #ab8e68;
            --brand-text: #eaddd0;
        }

        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #1a0000;
            color: var(--brand-text);
        }
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        /* --- Curtain Styles --- */
        .curtain-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 100;
            pointer-events: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .curtain-container.is-interactive {
             pointer-events: auto;
        }

        .curtain-pelmet {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 15vh; /* Adjust height as needed */
            background-image:
                linear-gradient(to bottom, rgba(0,0,0,0.5), transparent 80%),
                repeating-linear-gradient(90deg, rgba(0,0,0,0) 0, rgba(0,0,0,0) 5%, rgba(0,0,0,0.15) 10%, rgba(0,0,0,0) 15%),
                url('https://www.transparenttextures.com/patterns/subtle-dark-matter.png'),
                linear-gradient(to right, var(--brand-red-dark), var(--brand-red));
            background-color: var(--brand-red);
            z-index: 102; /* Above the curtains */
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            transition: opacity 0.5s ease-out;
        }
        .curtain-pelmet::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 0;
            width: 100%;
            height: 30px;
            background: radial-gradient(circle at 50% 0, var(--brand-gold-dark) 5%, transparent 60%);
            background-size: 80px 30px;
            opacity: 0.5;
        }


        .curtain {
            position: absolute;
            top: 0;
            width: 50.5%;
            height: 100%;
            background-image:
                radial-gradient(ellipse at 50% 30%, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0) 40%),
                repeating-linear-gradient(90deg, rgba(0,0,0,0) 0, rgba(0,0,0,0) 10%, rgba(0,0,0,0.2) 15%, rgba(0,0,0,0) 20%),
                url('https://www.transparenttextures.com/patterns/subtle-dark-matter.png'),
                linear-gradient(to right, var(--brand-red-dark), var(--brand-red) 30%, var(--brand-red) 70%, var(--brand-red-dark));
            background-color: var(--brand-red);
            will-change: transform;
            box-shadow: 0 0 40px rgba(0,0,0,0.5);
        }
        .curtain-left { left: 0; }
        .curtain-right { right: 0; }
        .curtain::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: linear-gradient(to top, var(--brand-gold), var(--brand-gold-dark) 50%, transparent);
            filter: blur(5px);
            opacity: 0.6;
        }

        .curtain-overlay-content {
            position: relative;
            z-index: 101;
            text-align: center;
            width: 90%;
            transition: opacity 0.5s ease-out;
            pointer-events: none;
        }

        .scroll-prompt {
            position: absolute;
            bottom: -20vh;
            left: 50%;
            transform: translateX(-50%);
            color: var(--brand-gold);
            text-shadow: 0 0 10px var(--brand-gold);
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-20px); }
            60% { transform: translateX(-50%) translateY(-10px); }
        }

        .gold-text { color: var(--brand-gold); }
        .text-shadow-gold { text-shadow: 0 0 8px rgba(197, 166, 124, 0.5); }
        .card-bg {
            background-color: rgba(90, 13, 26, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(197, 166, 124, 0.2);
        }
        .btn-gold {
            background: linear-gradient(145deg, var(--brand-gold), var(--brand-gold-dark));
            color: var(--brand-red-dark);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 2px solid var(--brand-gold-dark);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(197, 166, 124, 0.2);
        }
        .btn-gold:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(197, 166, 124, 0.3);
        }
        
        .btn-outline-gold {
            background-color: transparent;
            color: var(--brand-gold);
            border: 2px solid var(--brand-gold);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .btn-outline-gold:hover {
            background-color: var(--brand-gold);
            color: var(--brand-red-dark);
        }

        .section-bg {
            background-image: url('https://www.transparenttextures.com/patterns/dark-denim-3.png'), linear-gradient(to bottom, #1a0000, #2a0808);
        }

        /* Playing Card Styles */
        .card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            padding: 2rem;
            perspective: 800px;
        }
        .playing-card-wrapper {
            transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        .playing-card-wrapper:nth-child(1) { transform: rotate(-10deg); z-index: 1; }
        .playing-card-wrapper:nth-child(2) { transform: rotate(8deg) translateY(-20px); z-index: 2; }
        .playing-card-wrapper:nth-child(3) { transform: rotate(15deg) translateY(25px); z-index: 1; }
        .playing-card-wrapper:nth-child(4) { transform: rotate(-3deg) translateY(30px); z-index: 3; }
        
        .playing-card-wrapper:hover {
             transform: scale(1.1) translateY(-15px) rotate(0deg);
             z-index: 10;
        }

        .playing-card {
            background-color: #fdf6e8;
            border-radius: 10px;
            padding: 0.5rem;
            position: relative;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            aspect-ratio: 2.5 / 3.5;
            width: 250px;
        }
        .playing-card .card-corner {
            position: absolute;
            font-family: 'Playfair Display', serif;
            font-size: 2rem; 
            line-height: 1;
            font-weight: 700;
            user-select: none;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .playing-card .card-corner.top-left {
            top: 0.75rem;
            left: 0.75rem;
        }
        .playing-card .card-corner.bottom-right {
            bottom: 0.75rem;
            right: 0.75rem;
            transform: rotate(180deg);
        }
        .playing-card .card-corner.red-suit { color: #B90E0A; }
        .playing-card .card-corner.black-suit { color: #212121; }
        .playing-card .card-image-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .playing-card .card-image {
            max-width: calc(100% - 3.5rem);
            max-height: calc(100% - 4.5rem);
            object-fit: contain;
            border: 1px solid var(--brand-gold-dark);
        }

        /* Envelope Styles */
        .invitation-container {
            perspective: 1000px;
        }
        .envelope-wrapper {
            width: 320px;
  height: 400px;
  position: relative;
  margin: auto;
        }
        .envelope-flap {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('https://www.transparenttextures.com/patterns/subtle-dark-matter.png'), linear-gradient(var(--brand-red), var(--brand-red-dark));
            background-color: var(--brand-red);
            border: 1px solid var(--brand-red-dark);
        }
        .envelope-flap.top {
            width: 100%;
  height: 25%;
  top: 0;
  transform-origin: top;
  clip-path: polygon(0 0, 100% 0, 50% 100%);
  z-index: 12;
  will-change: transform;
        }
        .envelope-back {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('https://www.transparenttextures.com/patterns/subtle-dark-matter.png'), linear-gradient(var(--brand-red-dark), var(--brand-red));
            background-color: var(--brand-red-dark);
            z-index: 10;
        }
        .invitation-ticket {
            position: absolute;
  width: 90%;
  height: 94%;
  top: 3%;
  left: 5%;
  z-index: 11;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  text-align: center;
  opacity: 0;
  overflow: hidden;
  background-image: url('https://i.ibb.co/vxC65XTy/last-inv.png');
  background-size: cover;
  background-position: center;
  border-radius: 4px;
  box-shadow: inset 0 0 15px rgba(0,0,0,0.4);
  will-change: transform, opacity;
        }
        .ticket-text {
            text-shadow: 0 1px 3px rgba(0,0,0,0.8);
            width: 95%;
        }

        .wax-seal {
            position: absolute;
  width: 175px;
  height: 62px;
  background-image: url('https://i.ibb.co/pv38LM8R/erasebg-transformed-1.png');
  background-size: 90%;
  background-position: center;
  background-repeat: no-repeat;
  top: 17%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 13;
  filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.4));
  will-change: opacity;
        }

    </style>
</head>
<body class="overflow-x-hidden">
    
    <!-- Curtain Section (Fixed Overlay) -->
    <div id="curtain-container" class="curtain-container is-interactive">
        <div class="curtain-pelmet"></div>
        <div class="curtain curtain-left"></div>
        <div class="curtain curtain-right"></div>
        <div id="curtain-overlay-content" class="curtain-overlay-content">
            <h1 class="font-display text-5xl md:text-7xl gold-text text-shadow-gold">KPOP CHA CHA 4.0</h1>
            <p class="mt-4 text-lg md:text-xl font-display text-white">The Return of the Voyagers</p>
            <div class="scroll-prompt text-center">
                <span class="font-display text-2xl">Scroll to Enter</span>
                 <i class="gg-chevron-down mx-auto mt-2 scale-150"></i>
            </div>
        </div>
    </div>

    <!-- Main Content (Normal Document Flow) -->
    <main>
        <!-- Spacer div to position hero section correctly after scroll animation -->
        <div id="scroll-spacer"></div>

        <!-- Hero Section with Countdown -->
        <section id="hero" class="relative h-screen flex items-center justify-center text-center bg-cover bg-center bg-fixed" style="background-image: url('https://i.ibb.co/CKb0Kr7Z/Gemini-Generated-Image-erkflderkflderkf.png');">
            <div class="absolute inset-0 bg-[--brand-red-dark] opacity-85"></div>
            <div class="relative z-10 p-4">
                <h1 class="font-display text-5xl sm:text-6xl md:text-8xl lg:text-9xl gold-text text-shadow-gold">KPOP CHA CHA 4.0</h1>
                <p class="mt-4 text-lg sm:text-xl md:text-2xl font-display text-white">The Return of the Voyagers</p>
                <!-- UPDATED countdown classes for responsiveness -->
                <div id="countdown" class="flex justify-center gap-2 sm:gap-4 md:gap-8 mt-12 text-white">
                    <div class="text-center bg-black/50 p-2 sm:p-4 md:p-6 rounded-lg border-[1px]" style="border-color: rgba(197, 166, 124, 0.5)">
                        <span id="days" class="block font-bold text-3xl sm:text-4xl md:text-6xl">0</span>
                        <span class="block uppercase text-xs sm:text-sm">Days</span>
                    </div>
                    <div class="text-center bg-black/50 p-2 sm:p-4 md:p-6 rounded-lg border-[1px]" style="border-color: rgba(197, 166, 124, 0.5)">
                        <span id="hours" class="block font-bold text-3xl sm:text-4xl md:text-6xl">0</span>
                        <span class="block uppercase text-xs sm:text-sm">Hours</span>
                    </div>
                    <div class="text-center bg-black/50 p-2 sm:p-4 md:p-6 rounded-lg border-[1px]" style="border-color: rgba(197, 166, 124, 0.5)">
                        <span id="minutes" class="block font-bold text-3xl sm:text-4xl md:text-6xl">0</span>
                        <span class="block uppercase text-xs sm:text-sm">Minutes</span>
                    </div>
                    <div class="text-center bg-black/50 p-2 sm:p-4 md:p-6 rounded-lg border-[1px]" style="border-color: rgba(197, 166, 124, 0.5)">
                        <span id="seconds" class="block font-bold text-3xl sm:text-4xl md:text-6xl">0</span>
                        <span class="block uppercase text-xs sm:text-sm">Seconds</span>
                    </div>
                </div>
                <div class="mt-12">
                    <a href="#" class="btn-outline-gold inline-flex items-center gap-2 py-3 px-10 text-lg rounded-lg">
                        <i class="gg-play-button-o"></i>
                        <span>Watch Teaser</span>
                    </a>
                </div>
            </div>
        </section>

        <!-- Invitation Section -->
        <section id="invitation-section" class="py-20 md:py-32 section-bg">
            <div class="container mx-auto px-6 max-w-5xl">
                <div class="md:flex items-center gap-12">
                    <div class="md:w-1/2 mb-16 md:mb-0">
                        <h2 class="font-display text-5xl md:text-6xl gold-text text-shadow-gold mb-6">An Invitation to the Elite.</h2>
                        <p class="text-lg leading-relaxed mb-4">Kpop Cha Cha returns for its 4th epic chapter—bigger, bolder, and more iconic than ever. What started as a small fan gathering has evolved into Sri Lanka's most anticipated annual K-pop event.</p>
                        <p class="text-lg leading-relaxed">This year, we transform the space into an exclusive club for voyagers returning to Earth—bold, glamorous, and powerful. Expect an explosion of energy, music, and fashion as we reunite to celebrate our shared love for K-pop.</p>
                    </div>
                    <div class="md:w-1/2 invitation-container">
                        <div id="envelope" class="envelope-wrapper">
                            <div id="invitation-ticket" class="invitation-ticket">
                                <!-- <div class="ticket-text">
                                    <p class="font-display text-sm tracking-widest gold-text" style = "font-size: 1.25rem;">HOUSE OF CHA CHA PROUDLY PRESENTS</p>
                                    <h3 class="font-display text-3xl gold-text my-2" style = "font-size: 1.25rem;">KPOP CHA CHA 4.0</h3>
                                    <p class="text-sm">Venue: Mihilaka Medura, BMICH</p>
                                    <p class="text-sm">Date: 13th December 2025</p>
                                    <p class="text-sm">Time: 9:00 AM - 6:00 PM</p>
                                </div> -->
                            </div>
                            <div class="envelope-back"></div>
                            <div id="envelope-flap" class="envelope-flap top"></div>
                            <div id="wax-seal" class="wax-seal"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- The Experience Section -->
        <section class="relative py-28 md:py-40 bg-cover bg-center bg-fixed" style="background-image: url('https://images.unsplash.com/photo-1582215243300-859160537845?q=80&w=1974&auto=format&fit=crop');">
            <div class="absolute inset-0 bg-[--brand-red-dark] opacity-80"></div>
            <div class="relative container mx-auto px-6 text-center">
                <h2 class="font-display text-5xl md:text-6xl gold-text text-shadow-gold mb-16">An Unforgettable Day Awaits</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="card-bg p-8 rounded-xl transform hover:scale-105 transition-transform duration-300">
                        <h3 class="font-display text-2xl gold-text mb-3">Live Performances</h3>
                        <p>Feel the energy with electrifying dance and vocal covers from the best local talents.</p>
                    </div>
                    <div class="card-bg p-8 rounded-xl transform hover:scale-105 transition-transform duration-300">
                        <h3 class="font-display text-2xl gold-text mb-3">K-Shops</h3>
                        <p>All of your K-Merch conveniently located at a single stop.</p>
                    </div>
                    <div class="card-bg p-8 rounded-xl transform hover:scale-105 transition-transform duration-300">
                        <h3 class="font-display text-2xl gold-text mb-3">Random Play Dance</h3>
                        <p>Engage with fellow fans in fun, interactive games and win exciting prizes.</p>
                    </div>
                    <div class="card-bg p-8 rounded-xl transform hover:scale-105 transition-transform duration-300">
                        <h3 class="font-display text-2xl gold-text mb-3">VCR Concert</h3>
                        <p>Immerse yourself in a stunning VCR concert experience.</p>
                    </div>
                </div>
                 <a href="#ticket-section" class="btn-gold inline-block mt-16 py-4 px-12 rounded-lg">Learn More</a>
            </div>
        </section>

        <!-- Gallery Section -->
        <section class="py-20 md:py-24 section-bg">
             <div class="container mx-auto px-6 text-center">
                 <h2 class="font-display text-5xl md:text-6xl gold-text text-shadow-gold mb-16">Moments From The Archives</h2>
                 <div class="card-container min-h-[500px]">
                     <div class="playing-card-wrapper">
                         <div class="playing-card">
                            <div class="card-corner top-left black-suit"><span>K</span><span>&spades;</span></div>
                            <div class="card-image-container">
                                <img src="https://scontent.fcmb1-2.fna.fbcdn.net/v/t39.30808-6/472517330_1037738178119110_8388891354158112566_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=f727a1&_nc_ohc=0WCul1NY3-kQ7kNvwEADb7D&_nc_oc=AdnbHbhBpzt79kxWwOwHOFaIMwewN_FL72DSSmfbafZdhwrGXMBljCXp4qBfopGpSr1ySuv4TlNAlWIjrdaSkBt6&_nc_zt=23&_nc_ht=scontent.fcmb1-2.fna&_nc_gid=eQGe7q6XcytwpO7yzPWkWw&oh=00_AfPYm3d_BA-mfB4YXmIluy4fy4DsAoM9f4V2DZpbwZjyvw&oe=68679715" alt="Event photo from 2022" class="card-image">
                            </div>
                            <div class="card-corner bottom-right black-suit"><span>K</span><span>&spades;</span></div>
                         </div>
                     </div>
                     <div class="playing-card-wrapper">
                         <div class="playing-card">
                            <div class="card-corner top-left red-suit"><span>Q</span><span>&hearts;</span></div>
                            <div class="card-image-container">
                                <img src="https://i.ibb.co/LDJB9w87/FB-IMG-1730583687548.jpg" alt="Event photo from 2022" class="card-image">
                            </div>
                            <div class="card-corner bottom-right red-suit"><span>Q</span><span>&hearts;</span></div>
                         </div>
                     </div>
                     <div class="playing-card-wrapper">
                        <div class="playing-card">
                           <div class="card-corner top-left black-suit"><span>J</span><span>&clubs;</span></div>
                           <div class="card-image-container">
                               <img src="https://scontent.fcmb1-2.fna.fbcdn.net/v/t39.30808-6/482092431_950537537234380_9131921202812105676_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=f727a1&_nc_ohc=g9emIAI8dbYQ7kNvwFP91sO&_nc_oc=AdnmVwCFbx7ksmA2mshy6bL-jpuryEC4L-NkdVdxZGZ0EOXduIhwgCwcUfRuC4LOQTU6PefdwJWk7ipkCNxmIOr6&_nc_zt=23&_nc_ht=scontent.fcmb1-2.fna&_nc_gid=8_bBKg0t5qCL_Os1ewFS4w&oh=00_AfNZNh4lyln4pLHbFBuzgl9sIn2uzrFNZH0z2UK6CMlwAQ&oe=68679D92" alt="Event photo from 2023" class="card-image">
                           </div>
                           <div class="card-corner bottom-right black-suit"><span>J</span><span>&clubs;</span></div>
                        </div>
                    </div>
                     <div class="playing-card-wrapper">
                         <div class="playing-card">
                            <div class="card-corner top-left red-suit"><span>A</span><span>&diams;</span></div>
                            <div class="card-image-container">
                                <img src="https://placehold.co/600x800/B90E0A/c5a67c?text=KCC+2025" alt="Event photo from 2023" class="card-image">
                            </div>
                            <div class="card-corner bottom-right red-suit"><span>A</span><span>&diams;</span></div>
                         </div>
                     </div>
                 </div>
            </div>
        </section>
        
         <!-- Ticket Section -->
        <section id="ticket-section" class="py-20 md:py-24 bg-gray-900/50">
            <div class="container mx-auto px-6 max-w-3xl text-center">
                <h2 class="font-display text-5xl md:text-6xl gold-text text-shadow-gold mb-6">Join The Guestlist</h2>
                <p class="text-lg mb-10">Tickets are limited. Secure your place among the elite and be a part of this unforgettable experience.</p>
                 <a href="#" class="btn-gold inline-block py-4 px-16 text-xl rounded-lg">Register Now</a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-black py-12">
        <div class="container mx-auto px-6 text-center text-gray-400">
             <h4 class="font-display text-3xl gold-text mb-4">KPOP CHA CHA</h4>
             <p class="italic mb-4">"FROM FANS; FOR FANS"</p>
             <p class="mb-8" style="color: var(--brand-text)">"Let's celebrate the music, the memories, and the magic of K-pop — together at Cha Cha."</p>
             <div class="flex justify-center space-x-6">
                <a href="#" class="hover:text-[--brand-gold] transition-colors">Instagram</a>
                <a href="#" class="hover:text-[--brand-gold] transition-colors">TikTok</a>
                <a href="#" class="hover:text-[--brand-gold] transition-colors">Facebook</a>
             </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Elements ---
            const curtainContainer = document.getElementById('curtain-container');
            const curtainLeft = document.querySelector('.curtain-left');
            const curtainRight = document.querySelector('.curtain-right');
            const curtainOverlay = document.getElementById('curtain-overlay-content');
            const curtainPelmet = document.querySelector('.curtain-pelmet');
            const scrollSpacer = document.getElementById('scroll-spacer');
            
            // --- Envelope Elements ---
            const envelope = document.getElementById('envelope');
            const envelopeFlap = document.getElementById('envelope-flap');
            const invitationTicket = document.getElementById('invitation-ticket');
            const waxSeal = document.getElementById('wax-seal');

            const maxScrollOpen = window.innerHeight * 0.5;
            scrollSpacer.style.height = `${maxScrollOpen}px`;

            function handleAnimations() {
                const scrollY = window.scrollY;

                // Curtain Animation Logic
                const curtainScrollFraction = Math.min(scrollY / maxScrollOpen, 1);
                const curtainTranslateX = curtainScrollFraction * 100;
                const curtainOpacity = 1 - curtainScrollFraction * 1.5;

                curtainLeft.style.transform = `translateX(-${curtainTranslateX}%)`;
                curtainRight.style.transform = `translateX(${curtainTranslateX}%)`;
                curtainOverlay.style.opacity = curtainOpacity;
                curtainPelmet.style.opacity = curtainOpacity;

                if (curtainScrollFraction < 0.1) curtainContainer.classList.add('is-interactive');
                else curtainContainer.classList.remove('is-interactive');
                
                if (curtainScrollFraction >= 1) curtainContainer.style.display = 'none';
                else curtainContainer.style.display = 'flex';

                // Envelope Animation Logic
                const envelopeRect = envelope.getBoundingClientRect();
                const viewportHeight = window.innerHeight;

                const startPoint = viewportHeight * 0.6; 
                const endPoint = viewportHeight * 0.2;

                const currentTop = envelopeRect.top;
                
                let envelopeScrollFraction = (startPoint - currentTop) / (startPoint - endPoint);
                envelopeScrollFraction = Math.max(0, Math.min(1, envelopeScrollFraction));

                const flapRotation = envelopeScrollFraction * 180;
                waxSeal.style.opacity = 1 - (envelopeScrollFraction * 2);
                envelopeFlap.style.transform = `rotateX(${flapRotation}deg)`;

                const ticketFraction = Math.max(0, (envelopeScrollFraction - 0.5) * 2);
                invitationTicket.style.transform = `translateY(${100 - (ticketFraction * 100)}%)`;
                invitationTicket.style.opacity = ticketFraction;
            }
            
            window.addEventListener('scroll', () => {
                window.requestAnimationFrame(handleAnimations);
            }, { passive: true });
            
            // --- Countdown Timer ---
            const countDownDate = new Date("Dec 13, 2025 09:00:00").getTime();
            const x = setInterval(function() {
                const now = new Date().getTime();
                const distance = countDownDate - now;
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById("days").innerText = days;
                document.getElementById("hours").innerText = hours;
                document.getElementById("minutes").innerText = minutes;
                document.getElementById("seconds").innerText = seconds;
                
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("countdown").innerHTML = "<div class='text-center w-full'><p class='font-display text-4xl gold-text'>The Event Is Now Live!</p></div>";
                }
            }, 1000);

            // Initial call to set state
            handleAnimations();
        });
    </script>

</body>
</html>
